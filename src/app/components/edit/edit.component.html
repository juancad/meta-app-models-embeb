<app-navbar></app-navbar>

<div *ngIf="loaded">
    <div class="card bg-light mb-3 m-3">
        <div class="card-header"><i class="bi bi-pencil-square"></i>&nbsp;&nbsp;Editor de la aplicación</div>
        <div class="card-body">
            <ul class="nav nav-pills mb-3" id="pills-tab" role="tablist">
                <li class="nav-item" role="presentation">
                    <button class="nav-link active" id="pills-home-tab" data-bs-toggle="pill"
                        data-bs-target="#pills-home" type="button" role="tab" aria-controls="pills-home"
                        aria-selected="true">Principal</button>
                </li>
                <li class="nav-item" role="presentation">
                    <button class="nav-link" id="pills-categories-tab" data-bs-toggle="pill"
                        data-bs-target="#pills-categories" type="button" role="tab" aria-controls="pills-categories"
                        aria-selected="false">Categorías</button>
                </li>
                <li class="nav-item" role="presentation">
                    <button class="nav-link" id="pills-style-tab" data-bs-toggle="pill" data-bs-target="#pills-style"
                        type="button" role="tab" aria-controls="pills-style" aria-selected="false">Estilo</button>
                </li>
            </ul>
            <div class="tab-content" id="pills-tabContent">
                <div class="tab-pane fade show active" id="pills-home" role="tabpanel" aria-labelledby="pills-home-tab">
                    <!--PRINCIPAL-->
                </div>
                <div class="tab-pane fade" id="pills-categories" role="tabpanel" aria-labelledby="pills-categories-tab">
                    <!--CATEGORÍAS-->
                    <div class="form-check form-switch py-1">
                        <input class="form-check-input" type="checkbox" role="switch" id="flexSwitchCheckDefault"
                            [(ngModel)]="configuration.useRange">
                        <label class="form-check-label" for="flexSwitchCheckDefault">Utilizar rango de
                            valores</label>
                    </div>
                    <ul class="list-group">
                        <li class="list-group-item" *ngFor="let categorie of configuration.categories; index as i;">
                            <div class="row g-3">
                                <div class="input-group input-group-sm col">
                                    <span class="input-group-text" maxlength="100">Nombre de la categoría
                                        {{i}}:</span>
                                    <input [(ngModel)]="categorie.name" type="text" class="form-control">
                                </div>
                                <div *ngIf="configuration.useRange" class="input-group input-group-sm col">
                                    <span class="input-group-text">Rango de valores:</span>
                                    <span class="input-group-text">&#62;</span>
                                    <input [(ngModel)]="categorie.minVal" type=number step="0.1" class="form-control">
                                    <span class="input-group-text">&lt;&#61;</span>
                                    <input [(ngModel)]="categorie.maxVal" type=number step="0.1" class="form-control">
                                </div>
                                <div class="col-1">
                                    <button (click)="deleteCategory(categorie)" class="btn btn-danger btn-sm"><i
                                            class="bi bi-trash3-fill"></i></button>
                                </div>
                            </div>
                        </li>
                    </ul>
                    <br />
                    <button (click)="addCategory()" type="button" class="btn btn-primary btn-sm"><i
                            class="bi bi-plus-circle"></i>
                        Añadir otra categoría</button>
                </div>
                <div class="tab-pane fade" id="pills-style" role="tabpanel" aria-labelledby="pills-style-tab">
                    <!--ESTILO-->
                </div>
            </div>
        </div>
    </div>

    <div id="preview">
        Vista previa de la aplicación:
        <app-preview [configuration]="configuration"></app-preview>
    </div>
</div>
<app-footer></app-footer>